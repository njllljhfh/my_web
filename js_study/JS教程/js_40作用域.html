<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>JavaScript 作用域</title>
</head>
<body>
  <a href="https://www.w3school.com.cn/js/js_scope.asp">JavaScript 作用域</a>
  <hr>


  <h1>作用域指的是您有权访问的变量集合。</h1>
  <hr>


  <div>
    <h1>JavaScript 函数作用域</h1>
    <p>在 JavaScript 中有两种作用域类型：</p>
    <ul>
      <li>局部作用域</li>
      <li>全局作用域</li>
    </ul>

    <p>JavaScript 拥有函数作用域：每个函数创建一个新的作用域。</p>
    <p>作用域决定了这些变量的可访问性（可见性）。</p>
    <p>函数内部定义的变量从函数外部是不可访问的（不可见的）。</p>
  </div>
  <hr>


  <div>
    <h1>局部 JavaScript 变量</h1>
    <p>在 JavaScript 函数中声明的变量，会成为函数的局部变量。</p>
    <p>局部变量的作用域是局部的：只能在函数内部访问它们。</p>

    <p>myFunction() 之外的 carName 未定义。</p>
    <p id="demo_1"></p>
    <p id="demo_2"></p>
    <script>
      myFunction_2();

      function myFunction_2() {
        var carName = "porsche";
        document.getElementById("demo_1").innerHTML =
          typeof carName + " " + carName;
      }

      document.getElementById("demo_2").innerHTML =
        typeof carName;
    </script>
    <p>由于只能在函数内部识别局部变量，因此能够在不同函数中使用同名变量。</p>
    <p>在函数开始时会创建局部变量，在函数完成时会删除它们。</p>
  </div>
  <hr>


  <div>
    <h1>全局 JavaScript 变量</h1>
    <p>函数之外声明的变量，会成为全局变量。</p>
    <p>全局变量的作用域是全局的：网页的所有脚本和函数都能够访问它。</p>
    <p>可以从任何脚本或函数中访问全局变量。</p>
    <p id="demo_3"></p>

    <script>
      var carName_3 = "porsche";
      myFunction_3();

      function myFunction_3() {
        document.getElementById("demo_3").innerHTML =
          "I can display " + carName_3;
      }
    </script>
  </div>
  <hr>


  <div>
    <h2>JavaScript 变量</h2>
    <p>在 JavaScript 中，对象和函数也是变量。</p>
    <p>作用域决定了从代码不同部分对变量、对象和函数的可访问性。</p>
  </div>
  <hr>


  <div>
    <h1>自动全局</h1>
    <p>如果您为尚未声明的变量赋值，此变量会自动成为全局变量。</p>
    <p>这段代码将声明一个全局变量 carName，即使在函数内进行了赋值。</p>
    <p id="demo_4"></p>
    <script>
      myFunction_4();

      // 此处的代码可以把 carName_4 作为全局变量使用。
      document.getElementById("demo_4").innerHTML = "我可以显示 " + carName_4;

      function myFunction_4() {
        carName_4 = "porsche";
      }
    </script>
  </div>
  <hr>


  <div>
    <h1>严格模式</h1>
    <p>所有现代浏览器都支持以“严格模式”运行 JavaScript。</p>
    <p>您将在本教程稍后的章节学习更多如何使用严格模式的知识。</p>
    <p>在“严格模式”中不会自动创建全局变量。</p>
  </div>
  <hr>


  <div>
    <h1>HTML 中的全局变量</h1>
    <p>通过 JavaScript，全局作用域形成了完整的 JavaScript 环境。</p>
    <p>在 HTML 中，全局作用域是 window。所有全局变量均属于 window 对象。</p>
    <p>在 HTML 中，通过 <b>var</b> 定义的全局变量，会成为 window 变量。</p>
    <p id="demo_5"></p>
    <script>
      var carName_5 = "porsche";

      // code here can use window.carName
      document.getElementById("demo_5").innerHTML = "我可以显示 " + window.carName_5;
    </script>
  </div>
  <hr>


  <div>
    <h1>警告</h1>
    <p>除非有意为之，否则请勿创建全局变量。</p>
    <p>您的全局变量（或函数）能够覆盖 window 变量（或函数）。</p>
    <p>任何函数，包括 window 对象，能够覆盖您的全局变量和函数。</p>
  </div>
  <hr>


  <div>
    <h1>JavaScript 变量的有效期</h1>
    <p>JavaScript 变量的有效期始于其被创建时。</p>
    <p>局部变量会在函数完成时被删除。</p>
    <p>全局变量会在您关闭页面是被删除。</p>
  </div>
  <hr>


  <div>
    <h1>函数参数</h1>
    <p>函数参数也是函数内的局部变量。</p>
  </div>
  <hr>
</body>
</html>